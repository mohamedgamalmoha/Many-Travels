import{r as f,j as s,u as L}from"./index-13KED7Z6.js";import{M as U,u as V,P as Y,i as Z,j as G,L as T,G as P,t as R,m as A}from"./proxy-Dtk0xod2.js";class F extends f.Component{getSnapshotBeforeUpdate(e){const o=this.props.childRef.current;if(o&&e.isPresent&&!this.props.isPresent){const i=o.offsetParent,x=i instanceof HTMLElement&&i.offsetWidth||0,l=this.props.sizeRef.current;l.height=o.offsetHeight||0,l.width=o.offsetWidth||0,l.top=o.offsetTop,l.left=o.offsetLeft,l.right=x-l.width-l.left}return null}componentDidUpdate(){}render(){return this.props.children}}function K({children:t,isPresent:e,anchorX:o}){const i=f.useId(),x=f.useRef(null),l=f.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:a}=f.useContext(U);return f.useInsertionEffect(()=>{const{width:g,height:h,top:p,left:n,right:r}=l.current;if(e||!x.current||!g||!h)return;const j=o==="left"?`left: ${n}`:`right: ${r}`;x.current.dataset.motionPopId=i;const u=document.createElement("style");return a&&(u.nonce=a),document.head.appendChild(u),u.sheet&&u.sheet.insertRule(`
          [data-motion-pop-id="${i}"] {
            position: absolute !important;
            width: ${g}px !important;
            height: ${h}px !important;
            ${j}px !important;
            top: ${p}px !important;
          }
        `),()=>{document.head.contains(u)&&document.head.removeChild(u)}},[e]),s.jsx(F,{isPresent:e,childRef:x,sizeRef:l,children:f.cloneElement(t,{ref:x})})}const Q=({children:t,initial:e,isPresent:o,onExitComplete:i,custom:x,presenceAffectsLayout:l,mode:a,anchorX:g})=>{const h=V(q),p=f.useId();let n=!0,r=f.useMemo(()=>(n=!1,{id:p,initial:e,isPresent:o,custom:x,onExitComplete:j=>{h.set(j,!0);for(const u of h.values())if(!u)return;i&&i()},register:j=>(h.set(j,!1),()=>h.delete(j))}),[o,h,i]);return l&&n&&(r={...r}),f.useMemo(()=>{h.forEach((j,u)=>h.set(u,!1))},[o]),f.useEffect(()=>{!o&&!h.size&&i&&i()},[o]),a==="popLayout"&&(t=s.jsx(K,{isPresent:o,anchorX:g,children:t})),s.jsx(Y.Provider,{value:r,children:t})};function q(){return new Map}const M=t=>t.key||"";function D(t){const e=[];return f.Children.forEach(t,o=>{f.isValidElement(o)&&e.push(o)}),e}const X=({children:t,custom:e,initial:o=!0,onExitComplete:i,presenceAffectsLayout:x=!0,mode:l="sync",propagate:a=!1,anchorX:g="left"})=>{const[h,p]=Z(a),n=f.useMemo(()=>D(t),[t]),r=a&&!h?[]:n.map(M),j=f.useRef(!0),u=f.useRef(n),_=V(()=>new Map),[$,z]=f.useState(n),[d,c]=f.useState(n);G(()=>{j.current=!1,u.current=n;for(let v=0;v<d.length;v++){const m=M(d[v]);r.includes(m)?_.delete(m):_.get(m)!==!0&&_.set(m,!1)}},[d,r.length,r.join("-")]);const b=[];if(n!==$){let v=[...n];for(let m=0;m<d.length;m++){const N=d[m],k=M(N);r.includes(k)||(v.splice(m,0,N),b.push(N))}return l==="wait"&&b.length&&(v=b),c(D(v)),z(n),null}const{forceRender:C}=f.useContext(T);return s.jsx(s.Fragment,{children:d.map(v=>{const m=M(v),N=a&&!h?!1:n===d||r.includes(m),k=()=>{if(_.has(m))_.set(m,!0);else return;let E=!0;_.forEach(S=>{S||(E=!1)}),E&&(C==null||C(),c(u.current),a&&(p==null||p()),i&&i())};return s.jsx(Q,{isPresent:N,initial:!j.current||o?void 0:!1,custom:e,presenceAffectsLayout:x,mode:l,onExitComplete:N?void 0:k,anchorX:g,children:v},m)})})},J="/assets/placeholder-DQMmQ5EA.png";function B(t){return P({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M6.445 12.688V7.354h-.633A13 13 0 0 0 4.5 8.16v.695c.375-.257.969-.62 1.258-.777h.012v4.61zm1.188-1.305c.047.64.594 1.406 1.703 1.406 1.258 0 2-1.066 2-2.871 0-1.934-.781-2.668-1.953-2.668-.926 0-1.797.672-1.797 1.809 0 1.16.824 1.77 1.676 1.77.746 0 1.23-.376 1.383-.79h.027c-.004 1.316-.461 2.164-1.305 2.164-.664 0-1.008-.45-1.05-.82zm2.953-2.317c0 .696-.559 1.18-1.184 1.18-.601 0-1.144-.383-1.144-1.2 0-.823.582-1.21 1.168-1.21.633 0 1.16.398 1.16 1.23"},child:[]},{tag:"path",attr:{d:"M3.5 0a.5.5 0 0 1 .5.5V1h8V.5a.5.5 0 0 1 1 0V1h1a2 2 0 0 1 2 2v11a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V3a2 2 0 0 1 2-2h1V.5a.5.5 0 0 1 .5-.5M2 2a1 1 0 0 0-1 1v11a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V3a1 1 0 0 0-1-1z"},child:[]},{tag:"path",attr:{d:"M2.5 4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5H3a.5.5 0 0 1-.5-.5z"},child:[]}]})(t)}function W(t){return P({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"g",attr:{id:"Location_On"},child:[{tag:"g",attr:{},child:[{tag:"path",attr:{d:"M12,21.933a1.715,1.715,0,0,1-1.384-.691L5.555,14.5a7.894,7.894,0,1,1,12.885-.009L13.385,21.24A1.717,1.717,0,0,1,12,21.933ZM11.992,3.066A6.81,6.81,0,0,0,7.414,4.815a6.891,6.891,0,0,0-1.05,9.1l5.051,6.727a.725.725,0,0,0,.584.292h0a.732.732,0,0,0,.586-.292l5.044-6.734A6.874,6.874,0,0,0,12.81,3.113,7.277,7.277,0,0,0,11.992,3.066Z"},child:[]},{tag:"path",attr:{d:"M12,12.5A2.5,2.5,0,1,1,14.5,10,2.5,2.5,0,0,1,12,12.5Zm0-4A1.5,1.5,0,1,0,13.5,10,1.5,1.5,0,0,0,12,8.5Z"},child:[]}]}]}]})(t)}const ne=new Date().getFullYear();function te(t){t!=null&&t.startsWith("#")&&(t=t==null?void 0:t.substring(1)),t.length===3&&(t=t.split("").map(l=>l+l).join(""));const e=parseInt(t.substring(0,2),16),o=parseInt(t.substring(2,4),16),i=parseInt(t.substring(4,6),16);return(e*299+o*587+i*114)/1e3<128}const w=[{id:1,value:"single",title_ar:"اعزب",title_he:"בּוֹגֵר תוֹאַר רִאשׁוֹן"},{id:2,value:"couple",title_ar:"زوجان",title_he:"שני בני זוג"},{id:3,value:"family",title_ar:"عائلة",title_he:"מִשׁפָּחָה"},{id:4,value:"group",title_ar:"مجموعة",title_he:"קְבוּצָה"}],y=[{id:1,value:"apartment",title_ar:"شقة",title_he:"דִירָה"},{id:2,value:"villa",title_ar:"فيلا",title_he:"וִילָה"},{id:3,value:"hostel",title_ar:"نزل",title_he:"אוֹבֵן נוֹעַר"},{id:4,value:"camping",title_ar:"التخييم",title_he:"קֵימָה"},{id:5,value:"guesthouse",title_ar:"بيت ضيافة",title_he:"בֵּית הָאֲכוֹסֵנָה"},{id:6,value:"resort",title_ar:"منتجع",title_he:"אֲתַר נוֹפֶשׁ"},{id:7,value:"1_star_hotel",title_ar:"فندق 1 نجمة",title_he:"מָלוֹן כוֹכָב אֶחָד"},{id:8,value:"2_star_hotel",title_ar:"فندق 2 نجمة",title_he:"מָלוֹן שְׁנֵי כּוֹכָבִים"},{id:9,value:"3_star_hotel",title_ar:"فندق 3 نجوم",title_he:"מָלוֹן שְׁלוֹשָׁה כּוֹכָבִים"},{id:10,value:"4_star_hotel",title_ar:"فندق 4 نجوم",title_he:"מָלוֹן אַרְבָּעָה כּוֹכָבִים"},{id:11,value:"5_star_hotel",title_ar:"فندق 5 نجوم",title_he:"מָלוֹן חֲמִישָׁה כּוֹכָבִים"}],H=(t,e,o="ar")=>{const i=new Date(t),x=new Date(e),l=Math.ceil((x.getTime()-i.getTime())/(1e3*60*60*24))+1,a=l-1,g=r=>r===1?"يوم":r===2?"يومان":r<=10?`${r} أيام`:`${r} يوماً`,h=r=>r===1?"ليلة":r===2?"ليلتان":r<=10?`${r} ليالٍ`:`${r} ليلة`,p=r=>r===1?"יום":`${r} ימים`,n=r=>r===1?"לילה":`${r} לילות`;return o==="ar"?`${h(a)} ${g(l)}`:`${n(a)} ${p(l)}`},re=({home:t,data:e,style:o,onClick:i,blank:x,color:l})=>{var p,n,r,j,u,_,$,z,d;const{language:a}=L(),g=(c,b)=>{const C=encodeURIComponent(b),v=`https://wa.me/${c}?text=${C}`;window.open(v,"_blank")},h=c=>{var b;c.stopPropagation(),c.preventDefault(),(b=e==null?void 0:e.agency)!=null&&b.slug&&window.open(`/${e.agency.slug}`,"_blank")};return console.log(e),s.jsxs("div",{onClick:i,target:x&&"_blank",style:o,className:e!=null&&e.is_active?"relative flex flex-col gap-2 w-full min-w-[300px] max-w-[350px] h-full min-h-[450px] bg-white text-black rounded-lg custom-shadow overflow-hidden cursor-pointer":"relative flex flex-col gap-2 w-full min-w-[300px] max-w-[350px] h-full min-h-[450px] bg-white text-black p-4 rounded-lg  overflow-hidden cursor-not-allowed pointer-events-none",children:[!(e!=null&&e.is_active)&&s.jsx("span",{className:"absolute inset-0 flex items-center justify-center bg-black/90 text-white text-lg font-bold z-50",children:R("notAvailable",a)}),t&&s.jsxs("div",{onClick:h,className:"absolute left-2 top-4 inline-flex items-center gap-1 px-2 py-1 bg-purple-600 text-white text-xs rounded w-max mr-auto z-10",children:[s.jsx("p",{children:(p=e==null?void 0:e.agency)==null?void 0:p[`name_${a}`]}),s.jsx("img",{src:(n=e==null?void 0:e.agency)==null?void 0:n.image,alt:"brand",className:"w-4 h-4 bg-white rounded-full"})]}),(e==null?void 0:e.is_featured)&&s.jsx("div",{className:"flex items-center justify-center",children:s.jsx("p",{className:"absolute px-2 text-xs  text-white bg-red-600 rounded z-10 top-4 right-4",children:"New"})}),s.jsx("img",{src:(e==null?void 0:e.image)||J,alt:"placeholder",className:"w-full h-[200px] object-cover rounded-md"}),s.jsxs("div",{className:"p-4 flex flex-col gap-2",children:[s.jsxs("div",{className:"flex justify-between items-center gap-4",children:[s.jsx("div",{className:"flex-1",children:s.jsxs("p",{className:"font-bold text-base",children:[(r=e==null?void 0:e[`name_${a}`])==null?void 0:r.slice(0,25),((j=e==null?void 0:e[`name_${a}`])==null?void 0:j.length)>25?"...":""]})}),s.jsx("p",{className:"text-xs font-semibold",children:H(e==null?void 0:e.start_date,e==null?void 0:e.end_date,a)})]}),s.jsxs("div",{className:"flex justify-between gap-2",children:[s.jsxs("div",{className:"flex flex-col w-full",children:[s.jsx("p",{className:"font-bold",children:"السعر"}),s.jsx("p",{className:"font-bold text-xl",style:{color:e!=null&&e.after_sale_price?"#e93f3f":l},children:((e==null?void 0:e.after_sale_price)||(e==null?void 0:e.price))+"₪"}),(e==null?void 0:e.after_sale_price)&&s.jsxs("span",{className:"text-sm line-through text-gray-600",children:[e.price,"₪"]})]}),s.jsxs("div",{className:"flex flex-col items-end gap-4",children:[s.jsxs("div",{className:"flex items-center gap-2 min-w-max",children:[s.jsxs("p",{className:"text-sm text-gray-500",children:[" من ",e==null?void 0:e.start_date," الى ",e==null?void 0:e.end_date]}),s.jsx(B,{className:"text-lg",style:{color:l}})]}),s.jsxs("div",{className:"flex items-center gap-2 text-end",children:[s.jsxs("p",{className:"text-sm text-gray-500",children:[(u=e==null?void 0:e.destination_country)==null?void 0:u[`name_${a}`]," - ",(_=e==null?void 0:e.destination_city)==null?void 0:_[`name_${a}`]]}),s.jsx(W,{className:"text-xl",style:{color:l}})]})]})]}),s.jsxs("div",{className:"flex gap-2 justify-between flex-wrap",children:[s.jsxs("div",{className:"flex flex-col gap-2 w-fit",children:[s.jsx("p",{className:"font-bold",children:"نوع الاقامة"}),s.jsx("p",{className:"text-zinc-600 text-sm",children:($=y==null?void 0:y.find(c=>(c==null?void 0:c.value)===(e==null?void 0:e.housing_type)))==null?void 0:$[`title_${a}`]})]}),s.jsxs("div",{className:"flex flex-col gap-2 w-fit",children:[s.jsx("p",{className:"font-bold",children:"العدد"}),s.jsx("p",{className:"text-zinc-600 text-sm",children:(z=w==null?void 0:w.find(c=>(c==null?void 0:c.value)===(e==null?void 0:e.travel_type)))==null?void 0:z[`title_${a}`]})]})]}),s.jsxs("div",{className:"flex justify-between items-center gap-2",children:[s.jsxs("div",{className:"flex flex-col gap-2",children:[s.jsx("p",{className:"font-bold text-sm",children:"شامل :"}),s.jsx("div",{className:"flex items-center gap-1",children:(d=e==null?void 0:e.tags)==null?void 0:d.map(c=>s.jsx("img",{src:c==null?void 0:c.icon,alt:c==null?void 0:c.name,title:c==null?void 0:c.name,className:"w-10 h-10 object-contain"},c==null?void 0:c.id))})]}),s.jsx("button",{onClick:()=>g(e.agency.whatsapp_number,e[`name_${a}`]),className:"flex items-center gap-1 px-4 py-2 text-sm font-bold text-white bg-[var(--purpleColor)] rounded",style:{backgroundColor:l},children:R("orderNow",a)})]})]})]},e==null?void 0:e.id)};function O(t){return P({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"m289.94 256 95-95A24 24 0 0 0 351 127l-95 95-95-95a24 24 0 0 0-34 34l95 95-95 95a24 24 0 1 0 34 34l95-95 95 95a24 24 0 0 0 34-34z"},child:[]}]})(t)}const I={visible:{opacity:1},hidden:{opacity:0}},ee={hidden:{opacity:0},visible:{opacity:1,transition:{duration:.3}},exit:{opacity:0,transition:{duration:.2}}},le=({isOpen:t,onClose:e,title:o,selectedItem:i})=>{var l,a,g,h,p;const{language:x}=L();return f.useEffect(()=>{const n=document.querySelector("body");t?n.style.overflowY="hidden":n.style.overflowY="auto"},[t]),s.jsx(X,{children:t&&s.jsx(A.div,{className:"fixed inset-0 z-[9999] flex items-start justify-center bg-black/75 overflow-y-auto py-20 no-scrollbar",variants:I,initial:"hidden",animate:"visible",exit:"hidden",onClick:e,children:s.jsxs(A.div,{className:"bg-white rounded-lg p-8 max-w-[768px] w-[90%] relative z-10",variants:ee,initial:"hidden",animate:"visible",exit:"exit",onClick:n=>n.stopPropagation(),children:[o&&s.jsx("h2",{className:"text-xl text-center font-bold mb-8",children:o}),s.jsx("button",{onClick:e,className:"cursor-pointer absolute top-8 right-8 w-fit",children:s.jsx(O,{className:"text-3xl text-[#38b6ff] hover:scale-110 transition"})}),s.jsxs("div",{className:"flex flex-col gap-4",children:[s.jsx("img",{src:i==null?void 0:i.image,className:"w-full max-h-[300px] object-cover",alt:i==null?void 0:i.name}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("h3",{children:i==null?void 0:i[`name_${x}`]}),s.jsx("p",{children:H(i==null?void 0:i.start_date,i==null?void 0:i.end_date,x)}),(i==null?void 0:i.is_featured)&&s.jsx("p",{className:"w-fit px-2 text-xs text-white bg-red-600 rounded mr-auto",children:"New"})]}),s.jsx("p",{className:"text-zinc-500",children:i==null?void 0:i[`description_${x}`]}),s.jsxs("div",{className:"flex gap-4",children:[s.jsxs("div",{className:"flex items-center gap-2 min-w-max",children:[s.jsxs("p",{className:"text-sm text-gray-500",children:[" من ",i==null?void 0:i.start_date," الى ",i==null?void 0:i.end_date]}),s.jsx(B,{className:"text-lg"})]}),s.jsxs("div",{className:"flex items-center gap-2 text-end",children:[s.jsxs("p",{className:"text-sm text-gray-500",children:[(l=i==null?void 0:i.destination_country)==null?void 0:l[`name_${x}`]," - ",(a=i==null?void 0:i.destination_city)==null?void 0:a[`name_${x}`]]}),s.jsx(W,{className:"text-xl"})]})]}),s.jsxs("div",{className:"flex flex-col gap-2",children:[s.jsx("p",{className:"font-bold text-sm",children:"شامل :"}),s.jsx("div",{className:"flex items-center gap-1",children:(g=i==null?void 0:i.tags)==null?void 0:g.map(n=>s.jsx("img",{src:n==null?void 0:n.icon,alt:n==null?void 0:n.name,title:n==null?void 0:n.name,className:"w-10 h-10 object-contain"},n==null?void 0:n.id))})]}),s.jsxs("div",{className:"flex gap-4 flex-wrap justify-between",children:[i!=null&&i.after_sale_price?s.jsxs("p",{className:"text-2xl font-bold text-red-600",children:[i==null?void 0:i.after_sale_price,"₪ ",s.jsxs("span",{className:"text-sm text-zinc-500 line-through",children:[i==null?void 0:i.price,"₪"]})]}):s.jsxs("p",{className:"text-2xl font-bold text-zinc-600",children:[i==null?void 0:i.price,"₪"]}),s.jsxs("div",{className:"flex flex-col gap-2",children:[s.jsx("p",{className:"font-bold",children:"نوع الاقامة"}),s.jsx("p",{className:"text-zinc-600",children:(h=y==null?void 0:y.find(n=>(n==null?void 0:n.value)===(i==null?void 0:i.housing_type)))==null?void 0:h[`title_${x}`]})]}),s.jsxs("div",{className:"flex flex-col gap-2",children:[s.jsx("p",{className:"font-bold",children:"العدد"}),s.jsx("p",{className:"text-zinc-600",children:(p=w==null?void 0:w.find(n=>(n==null?void 0:n.value)===(i==null?void 0:i.travel_type)))==null?void 0:p[`title_${x}`]})]})]})]})]})})})};export{le as M,re as P,ne as c,y as h,te as i,w as t};
